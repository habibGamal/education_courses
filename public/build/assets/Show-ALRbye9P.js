import{r as m,u,j as e,d as p,br as j,bs as g,bt as f,bu as i,bv as b,bw as y,a5 as v,J as w,bx as S,B as x,b8 as _}from"./app-mLxcET_5.js";import{F as k}from"./FileOutlined-5qX7gkDd.js";import{H as N}from"./HeaderTitle-JSnmoyUL.js";import{T as F}from"./index-reCTwa0r.js";import"./CheckOutlined-s3rq-L-r.js";import"./EditOutlined-LWDCtCkw.js";import"./styleChecker-Vqpbzx7U.js";import"./TextArea-Gux9BosC.js";const{Sider:R}=i;function c(r,o,l,a){return{key:o,icon:l,children:a,label:r}}function T({course:r,setSelectedResource:o}){const[l,a]=m.useState(!1),d=u();console.log(r.blocks[0].resources.sort((s,t)=>s.sort_order-t.sort_order));const n=[c(e.jsx(p,{href:route("user-dashboard"),children:d("Dashboard","الرئيسية")}),"home",e.jsx(b,{})),...r.blocks.sort((s,t)=>s.sort_order-t.sort_order).map(s=>c(s.title,`block - ${s.id}`,void 0,s.resources.sort((t,h)=>t.sort_order-h.sort_order).map(t=>c(t.title,t.id,t.type==="video"?e.jsx(j,{}):e.jsx(k,{})))))];return e.jsxs(R,{collapsible:!0,collapsed:l,onCollapse:s=>a(s),style:{minWidth:"300px"},children:[e.jsx(g,{}),e.jsx(f,{theme:"dark",mode:"inline",items:n,onSelect:s=>{o(s.key)}})]})}const{Content:B}=i,{Paragraph:C}=F;H.layout=null;function H({enrolledCourse:r}){const{token:{colorBgContainer:o,borderRadiusLG:l}}=y.useToken(),[a,d]=v.useState(null),n=r.course.blocks.flatMap(t=>t.resources),s=m.useMemo(()=>n.find(t=>t.id.toString()===a),[a]);return w(),e.jsxs(i,{style:{minHeight:"100vh"},children:[e.jsx(T,{course:r.course,setSelectedResource:d}),e.jsxs(i,{children:[e.jsx(S,{header:e.jsx(N,{title:r.course.title})}),e.jsx(B,{className:"m-4",children:e.jsxs("div",{style:{padding:24,background:o,borderRadius:l},children:[s===void 0&&e.jsx("iframe",{src:r.course.promo_video_link??"",width:"100%",height:"500",allowFullScreen:!0,className:"border-none rounded-xl"}),s&&s.type==="video"&&e.jsx(D,{url:s==null?void 0:s.video_url}),s&&s.type==="file"&&e.jsxs("div",{className:"grid min-h-[300px] place-items-center",children:[e.jsx("img",{className:"w-[100px]",src:"/assets/folders.png"}),e.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:s==null?void 0:s.title}),e.jsx("a",{href:s==null?void 0:s.file_url,target:"_blank",children:e.jsx(x,{size:"large",type:"primary",children:"Download"})})]})]})]})}),e.jsx(_,{})]})]})}const D=({url:r})=>{const o=u();return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("iframe",{src:"https://www.youtube.com/embed/KAkfSznCUUU?si=Kmeuu4aOgwx9KQQW",width:"100%",height:"500",allowFullScreen:!0,className:"border-none rounded-xl"}),e.jsx(C,{className:"text-lg rounded-xl bg-gray-100 p-2",copyable:!0,children:r}),e.jsx("a",{href:"https://drive.google.com/drive/folders/1ogcFEhTVaDdboXfUBq94gt50Fq9BCVij?usp=sharing",target:"_blank",children:e.jsx(x,{size:"large",type:"primary",children:o("Download video player","تحميل مشغل الفيديو")})})]})};export{H as default};
