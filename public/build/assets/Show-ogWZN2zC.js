import{u as R,j as a,d as v,a as B,y as g,B as N}from"./app-u-ofZZ6a.js";import{H}from"./HeaderTitle-J2LSBPeM.js";import{P as O}from"./PaymentStatusBadge-kfPb1AwX.js";import{u as q}from"./useHeaderTitle-9_T7uolr.js";import{i as E}from"./imagePathResolver-yDEFMubq.js";import{I as U}from"./index-0ZE4qHDg.js";import{P as I}from"./index-mdJ6NX7i.js";import{D as C}from"./index-u3agIXDQ.js";import{T as Y}from"./Table-Ejjk7NpB.js";import"./index-E-R_y77Z.js";import"./index-nYwPvoM7.js";import"./TextArea-AJevMK0Q.js";import"./SwapOutlined-jKzJ04gO.js";import"./styleChecker-SfSJiJ0K.js";import"./index-JeR9wzeU.js";import"./CheckOutlined-Puy8mL2v.js";import"./index-SI79NB4s.js";import"./index-TWAqMMJ6.js";import"./index-FzzWffZQ.js";import"./useForceUpdate-qc-dJPq7.js";import"./FileOutlined-jU845wnq.js";function me({order:t}){var i,o,r,m,l,c,u,p,y,d,h,x,b,f,k,j,P;console.log(t);const e=R(),w=t.order_items.map(n=>{var s,T,_;return{key:n.id,courseId:(s=n.item)==null?void 0:s.id,courseName:(T=n.item)==null?void 0:T.title,coursePrice:(_=n.item)==null?void 0:_.price}}),D=[{title:e("Courses","الدورات"),dataIndex:"courseName",key:"courseName",render:(n,s)=>a.jsx(v,{href:route("courses.edit",s.courseId),children:n})},{title:e("Price","السعر"),dataIndex:"coursePrice",key:"coursePrice"}],S=[{key:"1",label:e("User","المستخدم"),children:(i=t.user)==null?void 0:i.name},{key:"2",label:e("Email","البريد الالكتروني"),children:(o=t.user)==null?void 0:o.email},{key:"3",label:e("Phone","رقم الهاتف"),children:(r=t.payment)==null?void 0:r.phone_number},{key:"4",label:e("Country","الدولة"),children:(m=t.user)==null?void 0:m.country},{key:"5",label:e("City","المدينة"),children:(l=t.user)==null?void 0:l.city}],A=[{key:"3",label:e("Payment Method","طريقة الدفع"),children:(c=t.payment)==null?void 0:c.payment_method},{key:"4",label:e("Payment Status","حالة الدفع"),children:a.jsx(O,{status:(u=t.payment)==null?void 0:u.payment_status})},{key:"5",label:"Order Date",children:t.created_at},{key:"8",label:e("Phone","رقم الهاتف"),children:(p=t.payment)==null?void 0:p.phone_number},{key:"6",label:e("Total before discount","الاجمالي قبل الخصم"),children:(y=t.payment)==null?void 0:y.total},{key:"Discount",label:e("Discount","الخصم"),children:(h=(d=t.payment)==null?void 0:d.coupon)==null?void 0:h.value},{key:"7",label:e("Payment Required","المبلغ المطلوب"),children:(x=t.payment)==null?void 0:x.required_amount},{key:"paied_amount",label:e("Paid Amount","المبلغ المدفوع"),children:(b=t.payment)==null?void 0:b.payment_amount},{key:"9",label:e("Coupon","الكوبون"),children:(k=(f=t.payment)==null?void 0:f.coupon)==null?void 0:k.code},{key:"10",label:e("Screenshot","صورة الدفع"),children:a.jsx(U,{width:200,src:E((j=t.payment)==null?void 0:j.screenshot)})}];return q(a.jsx(H,{title:e("Orders","الاشتراكات")})),a.jsxs(a.Fragment,{children:[a.jsx(B,{title:"Orders"}),((P=t.payment)==null?void 0:P.payment_status)==="pending"&&a.jsxs("div",{className:"flex gap-4  justify-end",children:[a.jsx(I,{title:e("Are you sure you want to reject this order?","هل انت متأكد من رفض هذا الطلب؟"),onConfirm:()=>g.delete(route("admin.orders.destroy",t.id)),okText:e("Yes","نعم"),cancelText:e("No","لا"),children:a.jsx(N,{type:"primary",danger:!0,children:e("Reject Payment","رفض الدفع")})}),a.jsx(I,{title:e("Are you sure you want to accept this order?","هل انت متأكد من قبول هذا الطلب؟"),onConfirm:()=>g.post(route("admin.orders.acceptPayment",t.id)),okText:e("Yes","نعم"),cancelText:e("No","لا"),children:a.jsx(N,{type:"primary",children:e("Accept Payment","اقبل الدفع")})})]}),a.jsx(C,{title:e("User Info","بيانات المستخدم"),bordered:!0,items:S,className:"mb-8"}),a.jsx(C,{title:e("Payment Info","بيانات الدفع"),bordered:!0,items:A,className:"mb-8"}),a.jsx(Y,{className:"shadow",dataSource:w,columns:D,pagination:!1})]})}export{me as default};
