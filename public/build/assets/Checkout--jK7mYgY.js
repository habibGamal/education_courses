import{u as f,j as e,a as g,S as N,B as u,y as b}from"./app-ROvF5bcD.js";import{C as v}from"./CartItem-rGC6x4Ub.js";import{F as w}from"./FileUpload-s4iGs_NC.js";import{u as F}from"./useFormErrors-J54mLjAH.js";import{H as I}from"./HomeLayout-hLFBjpM-.js";import{F as r}from"./index-W6NZO4K1.js";import{T as o}from"./index-CWMeYLoe.js";import{R as d}from"./index-0WyA4Kw6.js";import{I as j}from"./index-NgIUlJ99.js";import"./imagePathResolver-yDEFMubq.js";import"./DeleteOutlined-8QVuOfP0.js";import"./index-OH9c3Oij.js";import"./useForceUpdate-pAwHZwMX.js";import"./CheckOutlined-15dYBcDI.js";import"./Navbar-IyBAv6qV.js";import"./transition-8m4AnyiP.js";import"./keyboard-2SXiE6Ao.js";import"./EditOutlined-IUsSaNij.js";import"./styleChecker-kZfa9gQd.js";import"./TextArea-pf1Q8qAZ.js";import"./index-bW-R7lYg.js";function _({cart:m}){var x,p,h;const i=(x=m.cart_items)==null?void 0:x.reduce((t,a)=>{var n;return t+((n=a.item)==null?void 0:n.discount_price)},0),l=(p=m.cart_items)==null?void 0:p.reduce((t,a)=>{var n;return t+((n=a.item)==null?void 0:n.price)},0),[c]=r.useForm();F(c);const y=t=>{t.screenshot&&(t.screenshot=t.screenshot.file.originFileObj),b.post(route("orders.placeOrder"),t,{forceFormData:!0})},s=f();return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Checkout"}),e.jsx("div",{className:"bg-designer min-h-[400px] grid place-items-center",children:e.jsx(o.Title,{level:1,className:"!text-white",children:s("Checkout","الدفع")})}),e.jsxs("div",{className:"mx-auto mt-8 max-w-5xl justify-center px-6 md:flex gap-4 xl:px-0",children:[e.jsx("div",{className:"rounded-lg md:w-2/3",children:(h=m.cart_items)==null?void 0:h.map(t=>e.jsx(v,{item:t,checkout:!0},t.id))}),e.jsxs("div",{className:"mt-6 h-full rounded-lg border bg-white p-6 shadow-md md:mt-0 md:w-1/3",children:[e.jsxs("div",{className:"mb-2 flex justify-between",children:[e.jsx("p",{className:"text-gray-700",children:s("Subtotal","الاجمالي")}),e.jsxs("p",{className:"text-gray-700",children:[l==null?void 0:l.toFixed(2)," ",s("EGP","جنيه")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-gray-700",children:s("After Discount","بعد الخصم")}),e.jsxs("p",{className:"text-gray-700",children:[i==null?void 0:i.toFixed(2)," ",s("EGP","جنيه")]})]}),e.jsx("hr",{className:"my-4"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-lg font-bold",children:s("Total","الاجمالي")}),e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"mb-1 text-lg font-bold",children:[i==null?void 0:i.toFixed(2)," ",s("EGP","جنيه")]}),e.jsx("p",{className:"text-sm text-gray-700",children:s("including VAT","شامل الضريبة")})]})]})]})]}),e.jsx("div",{className:"mx-auto mt-8 max-w-5xl justify-center px-6 md:flex md:space-x-6 xl:px-0",children:e.jsxs("div",{className:"my-8 rounded-xl w-full bg-white p-6",children:[e.jsx(o.Title,{level:3,children:s("Payment","الدفع")}),e.jsxs(r,{form:c,layout:"vertical",onFinish:y,children:[e.jsx(r.Item,{name:"payment_method",label:s("Payment Method","طريقة الدفع"),rules:[{required:!0,message:"Payment Method is required"}],children:e.jsxs(d.Group,{children:[e.jsx(d,{value:"vodafone_cash",children:s("Vodafone Cash","فودافون كاش")}),e.jsx(d,{value:"instapay",children:s("Instapay","انستا باي")})]})}),e.jsx(r.Item,{dependencies:["payment_method"],children:({getFieldValue:t})=>{const a=t("payment_method");return a==="vodafone_cash"?e.jsx(o.Text,{children:s("Send the money to 01093084429 or 01019095383","ارسل المبلغ الي 01093084429 او 01019095383")}):a==="instapay"?e.jsx(o.Text,{children:s("Send the money to 01093084429","ارسل المبلغ الي 01093084429")}):null}}),e.jsx(r.Item,{name:"phone_number",label:s("Phone Number","رقم الهاتف"),rules:[{required:!0,message:s("Phone Number is required","رقم الهاتف مطلوب")}],children:e.jsx(j,{})}),e.jsx(r.Item,{label:s("Screenshot","صورة لعملية الدفع"),name:"screenshot",rules:[{required:!0,message:s("Screenshot is required","الصورة مطلوبة")}],children:e.jsx(w,{})}),e.jsx(r.Item,{label:s("Coupon","كوبون"),children:e.jsxs(N.Compact,{style:{width:"100%"},children:[e.jsx(j,{}),e.jsx(u,{type:"primary",children:s("Apply","تفعيل")})]})}),e.jsx(r.Item,{wrapperCol:{offset:0,span:16},children:e.jsx(u,{type:"primary",htmlType:"submit",children:s("Send Payment","ارسال الدفع")})})]})]})})]})}_.layout=m=>e.jsx(I,{children:m});export{_ as default};
