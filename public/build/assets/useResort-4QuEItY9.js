import{u as k,j as l,B as b,r as x}from"./app-ROvF5bcD.js";import{F as u}from"./index-W6NZO4K1.js";import{I as N}from"./index-NgIUlJ99.js";import{a as B}from"./Table-Gx0mQlvZ.js";function E({form:r,onFinish:c,initialValues:i}){const t=k(),n=i?"edit":"create";return l.jsxs(u,{name:"create_block",labelCol:{md:{span:8}},wrapperCol:{span:16},onFinish:c,form:r,labelAlign:"left",initialValues:i,children:[l.jsx(u.Item,{label:t("Block Name","اسم البلوك"),name:"title",rules:[{required:!0,max:255}],children:l.jsx(N,{})}),l.jsx(u.Item,{className:"flex justify-center mb-0",children:l.jsx(b,{type:"primary",htmlType:"submit",children:n==="edit"?t("Update","تعديل"):t("Create","إنشاء")})})]})}function F({gData:r,onFinish:c,setGData:i}){const t=n=>{const h=n.node.key,j=n.dragNode.key,f=n.node.pos.split("-"),g=n.dropPosition-Number(f[f.length-1]),m=(e,o,a)=>{for(let s=0;s<e.length;s++){if(e[s].key===o)return a(e[s],s,e);e[s].children&&m(e[s].children,o,a)}},p=[...r];let d;if(m(p,j,(e,o,a)=>{a.splice(o,1),d=e}),!n.dropToGap)m(p,h,e=>{e.children=e.children||[],e.children.unshift(d)});else{let e=[],o;m(p,h,(a,s,y)=>{e=y,o=s}),g===-1?e.splice(o,0,d):e.splice(o+1,0,d)}i(p)};return l.jsxs("div",{children:[l.jsx(b,{className:"mb-2 ml-auto block",type:"primary",onClick:()=>c(r),children:"Save"}),l.jsx(B,{className:"block draggable-tree",draggable:!0,blockNode:!0,onDrop:t,treeData:r})]})}function P(r,c){const[i,t]=x.useState(c(r));return x.useEffect(()=>{t(c(r))},[r]),[i,t]}export{E as B,F as R,P as u};
