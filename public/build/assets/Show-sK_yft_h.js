import{u as j,j as o,d as k,y as d,B as l,a as C}from"./app-u-ofZZ6a.js";import{H as I}from"./HeaderTitle-J2LSBPeM.js";import{u as g}from"./useHeaderTitle-9_T7uolr.js";import{u as T}from"./useModal-BUQjmk8P.js";import{P as N}from"./index-mdJ6NX7i.js";import{F as a}from"./index-i-Iw7dng.js";import{D as F}from"./index-u3agIXDQ.js";import{M as w}from"./index-B9uZqxi0.js";import{C as A}from"./index-SI79NB4s.js";import{T as M}from"./Table-Ejjk7NpB.js";import"./index-nYwPvoM7.js";import"./TextArea-AJevMK0Q.js";import"./index-TWAqMMJ6.js";import"./styleChecker-SfSJiJ0K.js";import"./index-JeR9wzeU.js";import"./CheckOutlined-Puy8mL2v.js";import"./index-FzzWffZQ.js";import"./useForceUpdate-qc-dJPq7.js";import"./FileOutlined-jU845wnq.js";function Q({student:s,courses:u}){console.log(s);const e=j(),p=s.enrolled_courses.map(r=>{var t,m,n;return{key:r.id,studentId:s.id,courseId:(t=r.course)==null?void 0:t.id,courseName:(m=r.course)==null?void 0:m.title,coursePrice:(n=r.course)==null?void 0:n.price}}),h=[{title:e("Courses","الدورات"),dataIndex:"courseName",key:"courseName",render:(r,t)=>o.jsx(k,{href:route("courses.edit",t.courseId),children:r})},{title:e("Action","العملية"),dataIndex:"courseId",key:"courseId",render:(r,t)=>o.jsx(N,{title:e("Are you sure?","هل انت متأكد؟"),onConfirm:()=>d.post(route("admin.students.blockFromCourse",[t.studentId,r])),okText:e("Yes","نعم"),cancelText:e("No","لا"),children:o.jsx(l,{type:"primary",danger:!0,children:e("Block","حجب")})})}],x=[{key:"1",label:e("User","المستخدم"),children:s.name},{key:"2",label:e("Email","البريد الالكتروني"),children:s.email},{key:"3",label:e("Phone","رقم الهاتف"),children:s.phone},{key:"4",label:e("Country","الدولة"),children:s.country},{key:"5",label:e("City","المدينة"),children:s.city}];g(o.jsx(I,{title:e("Students","الطلاب")}));const c=s.enrolled_courses.map(r=>{var t;return(t=r.course)==null?void 0:t.id}),y=u.map(r=>({label:r.title,value:r.id}));console.log(c);const i=T(),[f]=a.useForm(),b=r=>{d.post(route("admin.students.addToCourse",s.id),r),i.closeModal()};return o.jsxs(o.Fragment,{children:[o.jsx(C,{title:"Students"}),o.jsx(F,{title:e("User Info","بيانات المستخدم"),bordered:!0,items:x,className:"mb-8"}),o.jsx(l,{className:"ltr:ml-auto rtl:mr-auto block mb-4",type:"primary",onClick:()=>i.showModal(),children:e("Add user to course","اضافة المستخدم لدورة")}),o.jsx(w,{...i,footer:null,title:e("Add user to course","اضافة المستخدم لدورة"),destroyOnClose:!0,children:o.jsxs(a,{name:"add_user_to_course",labelCol:{span:8},wrapperCol:{span:16},onFinish:b,labelAlign:"left",form:f,initialValues:{courses:c},children:[o.jsx(a.Item,{label:e("Courses","الكورسات"),name:"courses",children:o.jsx(A.Group,{options:y,className:"w-full grid grid-cols-1 gap-4"})}),o.jsx(a.Item,{children:o.jsx(l,{type:"primary",htmlType:"submit",children:e("Save","حفظ")})})]})}),o.jsx(M,{className:"shadow",dataSource:p,columns:h,pagination:!1})]})}export{Q as default};
